============================= test session starts ==============================
platform darwin -- Python 3.13.7, pytest-8.4.1, pluggy-1.6.0 -- /opt/homebrew/opt/python@3.13/bin/python3.13
cachedir: .pytest_cache
rootdir: /Users/tmkipper/Desktop/tk_projects/ai-cost-optimizer
configfile: pyproject.toml
plugins: asyncio-1.1.0, anyio-4.10.0
asyncio: mode=Mode.AUTO, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 10 items

tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_endpoint_exists PASSED [ 10%]
tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_receives_initial_metrics PASSED [ 20%]
tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_periodic_updates_every_5_seconds PASSED [ 30%]
tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_multiple_concurrent_connections PASSED [ 40%]
tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_graceful_disconnect PASSED [ 50%]
tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_uses_redis_cache PASSED [ 60%]
tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_error_handling_on_invalid_data PASSED [ 70%]
tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_connection_manager_tracking PASSED [ 80%]
tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_sends_valid_json PASSED [ 90%]
tests/test_websocket_metrics.py::TestWebSocketMetrics::test_websocket_timestamp_format PASSED [100%]

============================= 10 passed in 10.13s ==============================
