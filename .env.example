# AI Cost Optimizer - Environment Variables
# Copy this file to .env and fill in your API keys

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================

# Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase anon/public key (client-side, respects RLS)
SUPABASE_ANON_KEY=your_anon_key_here

# Supabase service role key (server-side, bypasses RLS for admin ops)
SUPABASE_SERVICE_KEY=your_service_role_key_here

# JWT secret for token verification (optional, for manual JWT handling)
SUPABASE_JWT_SECRET=your_jwt_secret_here

# =============================================================================
# PROVIDER API KEYS (at least one required)
# =============================================================================

# Google Gemini (recommended - free tier available)
# Get key: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=

# Anthropic Claude
# Get key: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# OpenRouter (aggregator for 40+ models)
# Get key: https://openrouter.ai/keys
OPENROUTER_API_KEY=

# Cerebras (ultra-fast Llama models)
# Get key: https://www.cerebras.ai/
CEREBRAS_API_KEY=

# DeepSeek
# Get key: https://platform.deepseek.com/
DEEPSEEK_API_KEY=

# Hugging Face
# Get key: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server port (default: 8000)
PORT=8000

# Log level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# Legacy database path (deprecated - migrating to Supabase)
# DATABASE_PATH=optimizer.db

# Supabase connection string (for Alembic migrations)
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.nhjhzzkcqtsmfgvairos.supabase.co:5432/postgres

# =============================================================================
# CORS CONFIGURATION
# =============================================================================

# Allowed CORS origins (comma-separated, or "*" for all)
# For production, specify actual domains: https://yourdomain.com,https://app.yourdomain.com
CORS_ORIGINS=*

# =============================================================================
# BUDGET MANAGEMENT
# =============================================================================

# Default monthly budget in USD
DEFAULT_MONTHLY_BUDGET=100.0

# Budget alert thresholds (comma-separated percentages: 0.5 = 50%)
ALERT_THRESHOLDS=0.5,0.8,0.9

# =============================================================================
# BUDGET ALERTS
# =============================================================================

# Enable email alerts (true/false)
ALERT_EMAIL_ENABLED=false

# Email recipient for budget alerts
ALERT_EMAIL_TO=

# Email sender address
ALERT_EMAIL_FROM=alerts@ai-cost-optimizer.com

# SendGrid API key (for email alerts)
SENDGRID_API_KEY=

# Webhook URL for budget alerts (Slack, Discord, custom endpoint)
ALERT_WEBHOOK_URL=

# Budget alerts log file
BUDGET_ALERTS_LOG_FILE=budget_alerts.log

# =============================================================================
# EMBEDDING CONFIGURATION (for semantic caching)
# =============================================================================

# Embedding model provider (local or openai)
EMBEDDING_PROVIDER=local

# For local embeddings (sentence-transformers)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# For OpenAI embeddings (optional, requires OPENAI_API_KEY)
# EMBEDDING_MODEL=text-embedding-ada-002
# OPENAI_API_KEY=sk-...

# Semantic cache similarity threshold (0.0-1.0, higher = stricter matching)
SEMANTIC_CACHE_THRESHOLD=0.95

# =============================================================================
# LEARNING & RETRAINING CONFIGURATION
# =============================================================================

# Enable automated weekly retraining (true/false)
# When enabled, runs every Sunday at 2:00 AM
ENABLE_SCHEDULER=true
